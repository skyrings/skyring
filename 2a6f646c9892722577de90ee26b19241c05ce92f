{
  "comments": [
    {
      "key": {
        "uuid": "7ac7a964_ab4db274",
        "filename": "tools/lock/applock.go",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1006049
      },
      "writtenOn": "2015-11-18T04:24:34Z",
      "side": 1,
      "message": "Source level comments??",
      "revId": "2a6f646c9892722577de90ee26b19241c05ce92f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ac7a964_cbd58e44",
        "filename": "tools/lock/applock.go",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1006044
      },
      "writtenOn": "2015-11-18T06:00:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7ac7a964_ab4db274",
      "revId": "2a6f646c9892722577de90ee26b19241c05ce92f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ac7a964_0b5dc621",
        "filename": "tools/lock/lock.go",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1006049
      },
      "writtenOn": "2015-11-18T04:24:34Z",
      "side": 1,
      "message": "Source level comments",
      "revId": "2a6f646c9892722577de90ee26b19241c05ce92f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ac7a964_abd05254",
        "filename": "tools/lock/lock.go",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1006044
      },
      "writtenOn": "2015-11-18T06:00:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7ac7a964_0b5dc621",
      "revId": "2a6f646c9892722577de90ee26b19241c05ce92f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ac7a964_eb57aa00",
        "filename": "tools/lock/lock.go",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 1006049
      },
      "writtenOn": "2015-11-18T04:24:34Z",
      "side": 1,
      "message": "Messages??",
      "revId": "2a6f646c9892722577de90ee26b19241c05ce92f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ac7a964_8be4763c",
        "filename": "tools/lock/lock.go",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 1006044
      },
      "writtenOn": "2015-11-18T06:00:57Z",
      "side": 1,
      "message": "Its kind of a tags field to hold info about the lock. This will be send out in error message if unable to acquire the lock",
      "parentUuid": "7ac7a964_eb57aa00",
      "revId": "2a6f646c9892722577de90ee26b19241c05ce92f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ac7a964_2b41a239",
        "filename": "tools/lock/lockmanager.go",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1006049
      },
      "writtenOn": "2015-11-18T04:24:34Z",
      "side": 1,
      "message": "Source level comments",
      "revId": "2a6f646c9892722577de90ee26b19241c05ce92f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ac7a964_ebca4aa0",
        "filename": "tools/lock/lockmanager.go",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1006044
      },
      "writtenOn": "2015-11-18T06:00:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7ac7a964_2b41a239",
      "revId": "2a6f646c9892722577de90ee26b19241c05ce92f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ac7a964_6b4b9a59",
        "filename": "tools/lock/lockmanager.go",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1006049
      },
      "writtenOn": "2015-11-18T04:24:34Z",
      "side": 1,
      "message": "Are we going to allow locking across providers as well??\nShouldnt we acquire lock in skyring only in case the call goes through skyring.\n\nAnyway for provider specific calls, providers would acquire the locks themselves and skyring does not need to worry about that.",
      "revId": "2a6f646c9892722577de90ee26b19241c05ce92f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ac7a964_eb416a0c",
        "filename": "tools/lock/lockmanager.go",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1006044
      },
      "writtenOn": "2015-11-18T06:00:57Z",
      "side": 1,
      "message": "We discussed this locking stuff earlier and decided that the resources will owned by one entity(core or providers) at a specific point of time. For example a node in free pool will be owned by core but once it is part of a cluster, the ownership is transferred to respective providers. So the locking is the responsibility of the owners and each owners will run its own lock manager instance. I think 99% of the cases this will work perfectly. But in case if there is a conflict we may have to move this lock information a centralised place which is DB. Its an option and I am going to until we hit this scenario as there is hit on performance if we go to DB every time  for locking",
      "parentUuid": "7ac7a964_6b4b9a59",
      "revId": "2a6f646c9892722577de90ee26b19241c05ce92f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}