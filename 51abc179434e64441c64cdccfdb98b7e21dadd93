{
  "comments": [
    {
      "key": {
        "uuid": "fa81d914_dde6cfaf",
        "filename": "apps/skyring/cluster.go",
        "patchSetId": 16
      },
      "lineNbr": 298,
      "author": {
        "id": 1006044
      },
      "writtenOn": "2016-02-05T03:53:28Z",
      "side": 1,
      "message": "How you are handling the stale nodes? Ideal case is that for stale nodes we need to add all the plugins(because it failed in the last go) and the other nodes only the delta. Are we doing the same way?\n\nSuppose I have 5 plugins active on the node and I added on more and it failed. So Ideally you have to mark this node as stale. So next when you want to update, are you updating all the plugins or only the one which is failed?",
      "range": {
        "startLine": 294,
        "startChar": 4,
        "endLine": 298,
        "endChar": 21
      },
      "revId": "51abc179434e64441c64cdccfdb98b7e21dadd93",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_7d532339",
        "filename": "apps/skyring/cluster.go",
        "patchSetId": 16
      },
      "lineNbr": 298,
      "author": {
        "id": 1006318
      },
      "writtenOn": "2016-02-05T04:33:43Z",
      "side": 1,
      "message": "No as per the logic here, a failure is a failure we are not maintaining any state of failure.i.e, the recovery from failure is to load all plugin configurations freshly and hence the consistency is forcefully maintained. Its a salt state load operation of all states on all error nodes.",
      "parentUuid": "fa81d914_dde6cfaf",
      "range": {
        "startLine": 294,
        "startChar": 4,
        "endLine": 298,
        "endChar": 21
      },
      "revId": "51abc179434e64441c64cdccfdb98b7e21dadd93",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_dd108f5b",
        "filename": "apps/skyring/cluster.go",
        "patchSetId": 16
      },
      "lineNbr": 298,
      "author": {
        "id": 1006044
      },
      "writtenOn": "2016-02-05T05:54:41Z",
      "side": 1,
      "message": "Same question here too. how you indicate to user that montoring configuration failed for this node",
      "parentUuid": "fa81d914_7d532339",
      "range": {
        "startLine": 294,
        "startChar": 4,
        "endLine": 298,
        "endChar": 21
      },
      "revId": "51abc179434e64441c64cdccfdb98b7e21dadd93",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_005b9a2e",
        "filename": "apps/skyring/cluster.go",
        "patchSetId": 16
      },
      "lineNbr": 298,
      "author": {
        "id": 1006318
      },
      "writtenOn": "2016-02-05T07:10:34Z",
      "side": 1,
      "message": "We do maintain the nodes in failure as part of the cluster but not what failed. So user should typically get to know that the cluster has x nodes in failure and which x nodes in cluster are in failure but what we don\u0027t maintain is what operations failed on each of the x nodes",
      "parentUuid": "fa81d914_dd108f5b",
      "range": {
        "startLine": 294,
        "startChar": 4,
        "endLine": 298,
        "endChar": 21
      },
      "revId": "51abc179434e64441c64cdccfdb98b7e21dadd93",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_fda2b349",
        "filename": "apps/skyring/cluster.go",
        "patchSetId": 16
      },
      "lineNbr": 406,
      "author": {
        "id": 1006044
      },
      "writtenOn": "2016-02-05T03:53:28Z",
      "side": 1,
      "message": "Do you really want to check this? if yes do it like \nif len(request) \u003d\u003d 0 {\n//log\n//return\n}\n//other code come here",
      "range": {
        "startLine": 406,
        "startChar": 1,
        "endLine": 406,
        "endChar": 23
      },
      "revId": "51abc179434e64441c64cdccfdb98b7e21dadd93",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_9d337713",
        "filename": "apps/skyring/cluster.go",
        "patchSetId": 16
      },
      "lineNbr": 406,
      "author": {
        "id": 1006318
      },
      "writtenOn": "2016-02-05T04:33:43Z",
      "side": 1,
      "message": "haha  I just didn\u0027t want to end up missing out any checks :)\n\nok I\u0027ll modify this in a follow up patch",
      "parentUuid": "fa81d914_fda2b349",
      "range": {
        "startLine": 406,
        "startChar": 1,
        "endLine": 406,
        "endChar": 23
      },
      "revId": "51abc179434e64441c64cdccfdb98b7e21dadd93",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_bd6afbeb",
        "filename": "apps/skyring/cluster.go",
        "patchSetId": 16
      },
      "lineNbr": 614,
      "author": {
        "id": 1006044
      },
      "writtenOn": "2016-02-05T03:53:28Z",
      "side": 1,
      "message": "Is there a difference between force update and normal update?",
      "range": {
        "startLine": 613,
        "startChar": 0,
        "endLine": 614,
        "endChar": 29
      },
      "revId": "51abc179434e64441c64cdccfdb98b7e21dadd93",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_bd383bf0",
        "filename": "apps/skyring/cluster.go",
        "patchSetId": 16
      },
      "lineNbr": 614,
      "author": {
        "id": 1006318
      },
      "writtenOn": "2016-02-05T04:33:43Z",
      "side": 1,
      "message": "Yes a normal update is just a file change i.e, a modification of a line in an existing file.\n\nHowever, here it is a completely newly attempted state load so that all configs as in db are enforced on to the required destinations",
      "parentUuid": "fa81d914_bd6afbeb",
      "range": {
        "startLine": 613,
        "startChar": 0,
        "endLine": 614,
        "endChar": 29
      },
      "revId": "51abc179434e64441c64cdccfdb98b7e21dadd93",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_fd155349",
        "filename": "apps/skyring/cluster.go",
        "patchSetId": 16
      },
      "lineNbr": 614,
      "author": {
        "id": 1006044
      },
      "writtenOn": "2016-02-05T05:54:41Z",
      "side": 1,
      "message": "When you are doing normal vs force update?\nWhy dont you do force update all the time? Is it costly? I worried about too many option we are giving out which adds up the complexity. Also I dont think somebody keep playing around with these configs",
      "parentUuid": "fa81d914_bd383bf0",
      "range": {
        "startLine": 613,
        "startChar": 0,
        "endLine": 614,
        "endChar": 29
      },
      "revId": "51abc179434e64441c64cdccfdb98b7e21dadd93",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_40403234",
        "filename": "apps/skyring/cluster.go",
        "patchSetId": 16
      },
      "lineNbr": 614,
      "author": {
        "id": 1006318
      },
      "writtenOn": "2016-02-05T07:15:36Z",
      "side": 1,
      "message": "Force update is a costly affair I mean it loads all configs as if it were a new installation of configurations on these(error) nodes.\n\nUpdate Configuration on the other hand is just update thresholds.And it does only file modification operations which is better compared to state loads.\n\nSo if there aren\u0027t any errors it might not be appropriate to go with a fresh load of all configurations along with the update right?",
      "parentUuid": "fa81d914_fd155349",
      "range": {
        "startLine": 613,
        "startChar": 0,
        "endLine": 614,
        "endChar": 29
      },
      "revId": "51abc179434e64441c64cdccfdb98b7e21dadd93",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}