{
  "comments": [
    {
      "key": {
        "uuid": "3ac1b152_b48540af",
        "filename": "apps/app.go",
        "patchSetId": 2
      },
      "lineNbr": 30,
      "author": {
        "id": 1006044
      },
      "writtenOn": "2015-12-17T04:49:36Z",
      "side": 1,
      "message": "Better to have a generic name, as this will sync not only the cluster details",
      "range": {
        "startLine": 30,
        "startChar": 12,
        "endLine": 30,
        "endChar": 17
      },
      "revId": "f647b4994c0079b4b15f11dc09567cd6b6d3c0f5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ac1b152_d42e3ca5",
        "filename": "apps/app.go",
        "patchSetId": 2
      },
      "lineNbr": 30,
      "author": {
        "id": 1006049
      },
      "writtenOn": "2015-12-17T05:09:37Z",
      "side": 1,
      "message": "Actually it would go through each of the cluster and would sync all the related entities like nodes, storage logical units, storages and what not.\n\nMay be we can call this as SyncClusters()",
      "parentUuid": "3ac1b152_b48540af",
      "revId": "f647b4994c0079b4b15f11dc09567cd6b6d3c0f5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ac1b152_f4541823",
        "filename": "apps/skyring/sync.go",
        "patchSetId": 2
      },
      "lineNbr": 62,
      "author": {
        "id": 1006044
      },
      "writtenOn": "2015-12-17T04:49:36Z",
      "side": 1,
      "message": "Do we have this defined in the provider spec?",
      "range": {
        "startLine": 62,
        "startChar": 44,
        "endLine": 62,
        "endChar": 59
      },
      "revId": "f647b4994c0079b4b15f11dc09567cd6b6d3c0f5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ac1b152_f42b3892",
        "filename": "apps/skyring/sync.go",
        "patchSetId": 2
      },
      "lineNbr": 62,
      "author": {
        "id": 1006049
      },
      "writtenOn": "2015-12-17T05:09:37Z",
      "side": 1,
      "message": "We need to add this in spec",
      "parentUuid": "3ac1b152_f4541823",
      "revId": "f647b4994c0079b4b15f11dc09567cd6b6d3c0f5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9aa7fdbe_557cfc72",
        "filename": "apps/skyring/sync.go",
        "patchSetId": 2
      },
      "lineNbr": 62,
      "author": {
        "id": 1006044
      },
      "writtenOn": "2015-12-22T19:26:07Z",
      "side": 1,
      "message": "Let us have a generic name like GetClusterParams or something which can be used to retrieve any number of params?",
      "parentUuid": "3ac1b152_f42b3892",
      "revId": "f647b4994c0079b4b15f11dc09567cd6b6d3c0f5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9aa7fdbe_78465525",
        "filename": "apps/skyring/sync.go",
        "patchSetId": 2
      },
      "lineNbr": 62,
      "author": {
        "id": 1006049
      },
      "writtenOn": "2015-12-23T05:28:38Z",
      "side": 1,
      "message": "We may call this GetClusterDetails only, may be. What you say?",
      "parentUuid": "9aa7fdbe_557cfc72",
      "revId": "f647b4994c0079b4b15f11dc09567cd6b6d3c0f5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ac1b152_d4571c25",
        "filename": "apps/skyring/sync.go",
        "patchSetId": 2
      },
      "lineNbr": 167,
      "author": {
        "id": 1006044
      },
      "writtenOn": "2015-12-17T04:49:36Z",
      "side": 1,
      "message": "Why to run the loop again? Mark the ones which is deleted in the previous loops itself and delete it here",
      "range": {
        "startLine": 160,
        "startChar": 2,
        "endLine": 167,
        "endChar": 5
      },
      "revId": "f647b4994c0079b4b15f11dc09567cd6b6d3c0f5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ac1b152_1418b483",
        "filename": "apps/skyring/sync.go",
        "patchSetId": 2
      },
      "lineNbr": 167,
      "author": {
        "id": 1006049
      },
      "writtenOn": "2015-12-17T05:09:37Z",
      "side": 1,
      "message": "Actually loop order is reverse from the previous one.\n\nInsert/Update Case:\n  Outer loop - on storages list from cluster\n  Inner loop - on fetched list from DB\n\nDelete Case:\n  Outer loop - on fetched list from DB\n  Inner loop - on storages list from cluster\n\nCould be achieved in the previous case but code might look bit messy so did it this way.",
      "parentUuid": "3ac1b152_d4571c25",
      "revId": "f647b4994c0079b4b15f11dc09567cd6b6d3c0f5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9aa7fdbe_f5ba5009",
        "filename": "apps/skyring/sync.go",
        "patchSetId": 2
      },
      "lineNbr": 167,
      "author": {
        "id": 1006044
      },
      "writtenOn": "2015-12-22T19:26:07Z",
      "side": 1,
      "message": "dint get it right. Let us discuss and close it",
      "parentUuid": "3ac1b152_1418b483",
      "revId": "f647b4994c0079b4b15f11dc09567cd6b6d3c0f5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9aa7fdbe_f85165d9",
        "filename": "apps/skyring/sync.go",
        "patchSetId": 2
      },
      "lineNbr": 167,
      "author": {
        "id": 1006049
      },
      "writtenOn": "2015-12-23T05:28:38Z",
      "side": 1,
      "message": "Suppose there are two lists X and Y\n\n1. to get the item which are there in X but not in Y, we can say something like\n\nfor entry in X\n  for value in Y\n    if entry \u003d\u003d value\n      found \u003d true\n  if not found\n    extras in X \u003d extras in X + entry\n\n2. But to find what is there in Y but not in X, we need reverse the order of for loops as below\n\nfor value in Y\n  for entry in X\n    if value \u003d\u003d entry\n      found \u003d true\n  if not found\n    extras in Y \u003d extras in Y + value\n\n\nHere we can think of X as values from DB, and Y as values retrieved from backend cluster.\n\nso effectively\n  \u0027extras in X\u0027 means, values which are there in DB but not in values retrieved from backend cluster, so they should be deleted\n\n  \u0027extras in Y\u0027 means, values which are there in retrieved values from backend but not present in DB, so they should be added newly to DB.\n\nHope this clarifies, why we need two different loopings.",
      "parentUuid": "9aa7fdbe_f5ba5009",
      "revId": "f647b4994c0079b4b15f11dc09567cd6b6d3c0f5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}